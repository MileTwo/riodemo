{
    "Name": "default/hi-service",
    "Context": null,
    "Obj": {
        "name": "hi-service",
        "namespace": "default",
        "selfLink": "/apis/rio.cattle.io/v1/namespaces/default/apps/hi-service",
        "uid": "89c83037-c44c-11e9-a134-025000000001",
        "resourceVersion": "156047",
        "generation": 37,
        "creationTimestamp": "2019-08-21T19:47:41Z",
        "labels": {
            "objectset.rio.cattle.io/hash": "fc009cb1153234f11069b0aac2bcf65033e5ba25"
        },
        "annotations": {
            "objectset.rio.cattle.io/applied": "{\"kind\":\"App\",\"apiVersion\":\"rio.cattle.io/v1\",\"metadata\":{\"name\":\"hi-service\",\"namespace\":\"default\",\"creationTimestamp\":null,\"labels\":{\"objectset.rio.cattle.io/hash\":\"fc009cb1153234f11069b0aac2bcf65033e5ba25\"},\"annotations\":{\"objectset.rio.cattle.io/id\":\"default/hi-service\"}},\"spec\":{\"revisions\":[{\"public\":true,\"serviceName\":\"hi-service\",\"Version\":\"v1\",\"adjustedWeight\":100,\"weight\":100,\"scale\":1,\"scaleStatus\":{\"ready\":1,\"updated\":1},\"deploymentReady\":true,\"rollout\":true,\"rolloutIncrement\":5,\"rolloutInterval\":5}]},\"status\":{}}",
            "objectset.rio.cattle.io/id": "default/hi-service"
        },
        "finalizers": [
            "wrangler.cattle.io/routing-serviceset-object-controller-remove"
        ],
        "App": {
            "kind": "App",
            "apiVersion": "rio.cattle.io/v1",
            "metadata": {
                "name": "hi-service",
                "namespace": "default",
                "selfLink": "/apis/rio.cattle.io/v1/namespaces/default/apps/hi-service",
                "uid": "89c83037-c44c-11e9-a134-025000000001",
                "resourceVersion": "156047",
                "generation": 37,
                "creationTimestamp": "2019-08-21T19:47:41Z",
                "labels": {
                    "objectset.rio.cattle.io/hash": "fc009cb1153234f11069b0aac2bcf65033e5ba25"
                },
                "annotations": {
                    "objectset.rio.cattle.io/applied": "{\"kind\":\"App\",\"apiVersion\":\"rio.cattle.io/v1\",\"metadata\":{\"name\":\"hi-service\",\"namespace\":\"default\",\"creationTimestamp\":null,\"labels\":{\"objectset.rio.cattle.io/hash\":\"fc009cb1153234f11069b0aac2bcf65033e5ba25\"},\"annotations\":{\"objectset.rio.cattle.io/id\":\"default/hi-service\"}},\"spec\":{\"revisions\":[{\"public\":true,\"serviceName\":\"hi-service\",\"Version\":\"v1\",\"adjustedWeight\":100,\"weight\":100,\"scale\":1,\"scaleStatus\":{\"ready\":1,\"updated\":1},\"deploymentReady\":true,\"rollout\":true,\"rolloutIncrement\":5,\"rolloutInterval\":5}]},\"status\":{}}",
                    "objectset.rio.cattle.io/id": "default/hi-service"
                },
                "finalizers": [
                    "wrangler.cattle.io/routing-serviceset-object-controller-remove"
                ]
            },
            "spec": {
                "revisions": [
                    {
                        "public": true,
                        "serviceName": "hi-service",
                        "Version": "v1",
                        "adjustedWeight": 100,
                        "weight": 100,
                        "scale": 1,
                        "scaleStatus": {
                            "ready": 1,
                            "updated": 1
                        },
                        "deploymentReady": true,
                        "rollout": true,
                        "rolloutIncrement": 5,
                        "rolloutInterval": 5
                    }
                ]
            },
            "status": {
                "endpoints": [
                    "https://hi-service-default.a4m7af.on-rio.io:9443"
                ],
                "conditions": [
                    {
                        "type": "DeployedRoutingServiceset",
                        "status": "True",
                        "lastUpdateTime": "2019-08-21T19:47:42Z"
                    }
                ],
                "revisionWeight": {
                    "v1": {
                        "lastWrite": "2019-08-21T19:47:42Z",
                        "weight": 100,
                        "serviceName": "hi-service"
                    }
                }
            }
        },
        "Revisions": {
            "v1": {
                "Revision": {
                    "kind": "Service",
                    "apiVersion": "rio.cattle.io/v1",
                    "metadata": {
                        "name": "hi-service",
                        "namespace": "default",
                        "selfLink": "/apis/rio.cattle.io/v1/namespaces/default/services/hi-service",
                        "uid": "89bfacdf-c44c-11e9-a134-025000000001",
                        "resourceVersion": "156051",
                        "generation": 148,
                        "creationTimestamp": "2019-08-21T19:47:41Z",
                        "finalizers": [
                            "wrangler.cattle.io/stack-service-object-controller-remove",
                            "wrangler.cattle.io/autoscale-service-object-controller-remove",
                            "wrangler.cattle.io/stack-service-build-object-controller-remove",
                            "wrangler.cattle.io/routing-service-object-controller-remove"
                        ]
                    },
                    "spec": {
                        "scale": 1,
                        "version": "v1",
                        "weight": 100,
                        "concurrency": 10,
                        "minScale": 1,
                        "maxScale": 10,
                        "rollout": true,
                        "rolloutIncrement": 5,
                        "rolloutInterval": 5,
                        "image": "hi:v1",
                        "ports": [
                            {
                                "protocol": "HTTP",
                                "port": 80,
                                "targetPort": 80
                            }
                        ],
                        "env": [
                            {
                                "name": "FEATURE",
                                "value": "green"
                            }
                        ],
                        "imagePullPolicy": "IfNotPresent"
                    },
                    "status": {
                        "deploymentStatus": {
                            "replicas": 1,
                            "updatedReplicas": 1,
                            "readyReplicas": 1,
                            "availableReplicas": 1,
                            "conditions": [
                                {
                                    "type": "Progressing",
                                    "status": "True",
                                    "lastUpdateTime": "2019-08-21T19:47:48Z",
                                    "lastTransitionTime": "2019-08-21T19:47:41Z",
                                    "reason": "NewReplicaSetAvailable",
                                    "message": "ReplicaSet \"hi-service-9bb4fc6d\" has successfully progressed."
                                },
                                {
                                    "type": "Available",
                                    "status": "True",
                                    "lastUpdateTime": "2019-08-21T19:51:19Z",
                                    "lastTransitionTime": "2019-08-21T19:51:19Z",
                                    "reason": "MinimumReplicasAvailable",
                                    "message": "Deployment has minimum availability."
                                }
                            ]
                        },
                        "scaleStatus": {
                            "ready": 1,
                            "updated": 1
                        },
                        "observedScale": 1,
                        "conditions": [
                            {
                                "type": "DeployedStackService",
                                "status": "True",
                                "lastUpdateTime": "2019-08-21T19:52:30Z"
                            },
                            {
                                "type": "DeployedAutoscaleService",
                                "status": "True",
                                "lastUpdateTime": "2019-08-21T19:52:30Z"
                            },
                            {
                                "type": "DeployedStackServiceBuild",
                                "status": "True",
                                "lastUpdateTime": "2019-08-21T19:52:30Z"
                            },
                            {
                                "type": "DeployedRoutingService",
                                "status": "True",
                                "lastUpdateTime": "2019-08-21T19:52:30Z"
                            }
                        ],
                        "endpoints": [
                            "https://hi-service-v1-default.a4m7af.on-rio.io:9443"
                        ]
                    }
                },
                "Pods": [
                    {
                        "metadata": {
                            "name": "hi-service-9bb4fc6d-jvtgf",
                            "generateName": "hi-service-9bb4fc6d-",
                            "namespace": "default",
                            "selfLink": "/api/v1/namespaces/default/pods/hi-service-9bb4fc6d-jvtgf",
                            "uid": "89c65086-c44c-11e9-a134-025000000001",
                            "resourceVersion": "154707",
                            "creationTimestamp": "2019-08-21T19:47:41Z",
                            "labels": {
                                "app": "hi-service",
                                "pod-template-hash": "9bb4fc6d",
                                "version": "v1"
                            },
                            "annotations": {
                                "sidecar.istio.io/statsInclusionPrefixes": "http,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grpc",
                                "sidecar.istio.io/status": "{\"version\":\"fb32361a0a0fd0bf2b104f718b7d4ff2411b03ecea1534406ab8ac40d8e78640\",\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"istio-envoy\",\"istio-certs\"],\"imagePullSecrets\":null}"
                            },
                            "ownerReferences": [
                                {
                                    "apiVersion": "apps/v1",
                                    "kind": "ReplicaSet",
                                    "name": "hi-service-9bb4fc6d",
                                    "uid": "89c50900-c44c-11e9-a134-025000000001",
                                    "controller": true,
                                    "blockOwnerDeletion": true
                                }
                            ]
                        },
                        "spec": {
                            "volumes": [
                                {
                                    "name": "istio-envoy",
                                    "emptyDir": {
                                        "medium": "Memory"
                                    }
                                },
                                {
                                    "name": "istio-certs",
                                    "secret": {
                                        "secretName": "istio.default",
                                        "defaultMode": 420,
                                        "optional": true
                                    }
                                }
                            ],
                            "initContainers": [
                                {
                                    "name": "istio-init",
                                    "image": "docker.io/istio/proxy_init:1.1.3",
                                    "args": [
                                        "-p",
                                        "15001",
                                        "-u",
                                        "1337",
                                        "-m",
                                        "REDIRECT",
                                        "-i",
                                        "10.96.0.1/16",
                                        "-x",
                                        "10.43.0.0/31",
                                        "-b",
                                        "80",
                                        "-d",
                                        "15020"
                                    ],
                                    "resources": {
                                        "limits": {
                                            "cpu": "100m",
                                            "memory": "50Mi"
                                        },
                                        "requests": {
                                            "cpu": "10m",
                                            "memory": "10Mi"
                                        }
                                    },
                                    "terminationMessagePath": "/dev/termination-log",
                                    "terminationMessagePolicy": "File",
                                    "imagePullPolicy": "IfNotPresent",
                                    "securityContext": {
                                        "capabilities": {
                                            "add": [
                                                "NET_ADMIN"
                                            ]
                                        },
                                        "runAsUser": 0,
                                        "runAsNonRoot": false,
                                        "procMount": "Default"
                                    }
                                }
                            ],
                            "containers": [
                                {
                                    "name": "hi-service",
                                    "image": "hi:v1",
                                    "ports": [
                                        {
                                            "containerPort": 80,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "FEATURE",
                                            "value": "green"
                                        }
                                    ],
                                    "resources": {
                                        "requests": {
                                            "cpu": "50m",
                                            "memory": "64Mi"
                                        }
                                    },
                                    "terminationMessagePath": "/dev/termination-log",
                                    "terminationMessagePolicy": "File",
                                    "imagePullPolicy": "IfNotPresent"
                                },
                                {
                                    "name": "istio-proxy",
                                    "image": "docker.io/istio/proxyv2:1.1.3",
                                    "args": [
                                        "proxy",
                                        "sidecar",
                                        "--domain",
                                        "$(POD_NAMESPACE).svc.cluster.local",
                                        "--configPath",
                                        "/etc/istio/proxy",
                                        "--binaryPath",
                                        "/usr/local/bin/envoy",
                                        "--serviceCluster",
                                        "hi-service.$(POD_NAMESPACE)",
                                        "--drainDuration",
                                        "45s",
                                        "--parentShutdownDuration",
                                        "1m0s",
                                        "--discoveryAddress",
                                        "istio-pilot.rio-system:15010",
                                        "--zipkinAddress",
                                        "",
                                        "--connectTimeout",
                                        "30s",
                                        "--proxyAdminPort",
                                        "15000",
                                        "--controlPlaneAuthPolicy",
                                        "NONE",
                                        "--statusPort",
                                        "15020",
                                        "--applicationPorts",
                                        "80",
                                        "--concurrency",
                                        "2"
                                    ],
                                    "ports": [
                                        {
                                            "name": "http-envoy-prom",
                                            "containerPort": 15090,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "POD_NAME",
                                            "valueFrom": {
                                                "fieldRef": {
                                                    "apiVersion": "v1",
                                                    "fieldPath": "metadata.name"
                                                }
                                            }
                                        },
                                        {
                                            "name": "POD_NAMESPACE",
                                            "valueFrom": {
                                                "fieldRef": {
                                                    "apiVersion": "v1",
                                                    "fieldPath": "metadata.namespace"
                                                }
                                            }
                                        },
                                        {
                                            "name": "INSTANCE_IP",
                                            "valueFrom": {
                                                "fieldRef": {
                                                    "apiVersion": "v1",
                                                    "fieldPath": "status.podIP"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ISTIO_META_POD_NAME",
                                            "valueFrom": {
                                                "fieldRef": {
                                                    "apiVersion": "v1",
                                                    "fieldPath": "metadata.name"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ISTIO_META_CONFIG_NAMESPACE",
                                            "valueFrom": {
                                                "fieldRef": {
                                                    "apiVersion": "v1",
                                                    "fieldPath": "metadata.namespace"
                                                }
                                            }
                                        },
                                        {
                                            "name": "ISTIO_META_INTERCEPTION_MODE",
                                            "value": "REDIRECT"
                                        },
                                        {
                                            "name": "ISTIO_METAJSON_ANNOTATIONS",
                                            "value": "{\"sidecar.istio.io/statsInclusionPrefixes\":\"http,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grpc\"}\n"
                                        },
                                        {
                                            "name": "ISTIO_METAJSON_LABELS",
                                            "value": "{\"app\":\"hi-service\",\"version\":\"v1\"}\n"
                                        }
                                    ],
                                    "resources": {
                                        "limits": {
                                            "cpu": "2",
                                            "memory": "128Mi"
                                        },
                                        "requests": {
                                            "cpu": "10m",
                                            "memory": "40Mi"
                                        }
                                    },
                                    "volumeMounts": [
                                        {
                                            "name": "istio-envoy",
                                            "mountPath": "/etc/istio/proxy"
                                        },
                                        {
                                            "name": "istio-certs",
                                            "readOnly": true,
                                            "mountPath": "/etc/certs/"
                                        }
                                    ],
                                    "readinessProbe": {
                                        "httpGet": {
                                            "path": "/healthz/ready",
                                            "port": 15020,
                                            "scheme": "HTTP"
                                        },
                                        "initialDelaySeconds": 1,
                                        "timeoutSeconds": 1,
                                        "periodSeconds": 2,
                                        "successThreshold": 1,
                                        "failureThreshold": 30
                                    },
                                    "terminationMessagePath": "/dev/termination-log",
                                    "terminationMessagePolicy": "File",
                                    "imagePullPolicy": "IfNotPresent",
                                    "securityContext": {
                                        "runAsUser": 1337,
                                        "readOnlyRootFilesystem": true,
                                        "procMount": "Default"
                                    }
                                }
                            ],
                            "restartPolicy": "Always",
                            "terminationGracePeriodSeconds": 30,
                            "dnsPolicy": "ClusterFirst",
                            "serviceAccountName": "default",
                            "serviceAccount": "default",
                            "automountServiceAccountToken": false,
                            "nodeName": "docker-desktop",
                            "securityContext": {},
                            "schedulerName": "default-scheduler",
                            "tolerations": [
                                {
                                    "key": "node.kubernetes.io/not-ready",
                                    "operator": "Exists",
                                    "effect": "NoExecute",
                                    "tolerationSeconds": 300
                                },
                                {
                                    "key": "node.kubernetes.io/unreachable",
                                    "operator": "Exists",
                                    "effect": "NoExecute",
                                    "tolerationSeconds": 300
                                }
                            ],
                            "priority": 0,
                            "enableServiceLinks": false
                        },
                        "status": {
                            "phase": "Running",
                            "conditions": [
                                {
                                    "type": "Initialized",
                                    "status": "True",
                                    "lastProbeTime": null,
                                    "lastTransitionTime": "2019-08-21T19:47:45Z"
                                },
                                {
                                    "type": "Ready",
                                    "status": "True",
                                    "lastProbeTime": null,
                                    "lastTransitionTime": "2019-08-21T19:47:48Z"
                                },
                                {
                                    "type": "ContainersReady",
                                    "status": "True",
                                    "lastProbeTime": null,
                                    "lastTransitionTime": "2019-08-21T19:47:48Z"
                                },
                                {
                                    "type": "PodScheduled",
                                    "status": "True",
                                    "lastProbeTime": null,
                                    "lastTransitionTime": "2019-08-21T19:47:41Z"
                                }
                            ],
                            "hostIP": "192.168.65.3",
                            "podIP": "10.1.3.177",
                            "startTime": "2019-08-21T19:47:41Z",
                            "initContainerStatuses": [
                                {
                                    "name": "istio-init",
                                    "state": {
                                        "terminated": {
                                            "exitCode": 0,
                                            "reason": "Completed",
                                            "startedAt": "2019-08-21T19:47:44Z",
                                            "finishedAt": "2019-08-21T19:47:45Z",
                                            "containerID": "docker://db3a16639cc1531f82def5c0052d8e536eacd97115638a4d163929421276f5b6"
                                        }
                                    },
                                    "lastState": {},
                                    "ready": true,
                                    "restartCount": 0,
                                    "image": "istio/proxy_init:1.1.3",
                                    "imageID": "docker-pullable://istio/proxy_init@sha256:000d022d27c198faa6cc9b03d806482d08071e146423d6e9f81aa135499c4ed3",
                                    "containerID": "docker://db3a16639cc1531f82def5c0052d8e536eacd97115638a4d163929421276f5b6"
                                }
                            ],
                            "containerStatuses": [
                                {
                                    "name": "hi-service",
                                    "state": {
                                        "running": {
                                            "startedAt": "2019-08-21T19:47:46Z"
                                        }
                                    },
                                    "lastState": {},
                                    "ready": true,
                                    "restartCount": 0,
                                    "image": "hi:v1",
                                    "imageID": "docker://sha256:c087571a1b3e4e6f2db50a0e13acb1cb3c07a497dd13aee29ebdf5ea21774e8f",
                                    "containerID": "docker://5013f814a1c262a22d4d3c3eec9176c066a6ad782fc4f9d85b2a639fbcb222da"
                                },
                                {
                                    "name": "istio-proxy",
                                    "state": {
                                        "running": {
                                            "startedAt": "2019-08-21T19:47:46Z"
                                        }
                                    },
                                    "lastState": {},
                                    "ready": true,
                                    "restartCount": 0,
                                    "image": "istio/proxyv2:1.1.3",
                                    "imageID": "docker-pullable://istio/proxyv2@sha256:b682918f2f8fcca14b3a61bbd58f4118311eebc20799f24b72ceddc5cd749306",
                                    "containerID": "docker://994df4ffa8ffdd33e62b33741fc05d4d722f4a73e041588415922a8548b4d434"
                                }
                            ],
                            "qosClass": "Burstable"
                        }
                    }
                ]
            }
        }
    }
}

